# Forest with Feathers

This example shows you how to install Forest Admin on a
[Feathers](https://feathersjs.com/) application.

- [Requirements](#requirements)
- [Installation](#installation)
- [How it works](#how-it-works)
- [Need help](#need-help)

![Screenshot](screenshot.png?raw=true "Screenshot")

## Requirements
- Git
- Nodejs & NPM
- Postgres client
- Docker & Docker Compose

## Installation

#### 1. Clone this repository
```
$ git clone https://github.com/ForestAdmin/forest-examples.git
$ cd forest-examples/examples/feathers/sql-database
```

#### 2. Create the postgres databases
```
$ docker-compose up
```

#### 3. Restore the database dump
```
$ pg_restore -O -d forest_meals ../../../sample-data/dump-postgres/meals.dump -h localhost -p 5446 -U forest
```

#### 4. Install NPM packages

```
$ npm install
```

#### 5. Setup your config file
Open the file `config/default.json` and set the following variables:

```
{
  ...,
  "forest": {
    "envSecret": "YOUR FOREST ENV SECRET",
    "authSecret": "CHOOSE A SECRET AUTH KEY"
  },
  ...
```

`YOUR FOREST ENV SECRET` and `CHOOSE A SECRET AUTH KEY` values will be set in
the next step.


#### 6. Create your Forest Admin Account
Create your account at [https://www.forestadmin.com](https://www.forestadmin.com) and select the stack "Express/Sequelize".

**NOTICE**: The *forest-express-sequelize* and the code snippet steps are
already done for you in this example. Check the file `src/middleware/index.js`
for more information.

Set the correct `FOREST_ENV_SECRET` and `FOREST_AUTH_SECRET` in the `.env` file.

#### 7. Launch your admin

```
$ node src
```

#### 8. You're good to go

Finally, click *Next*, choose a project name and finalize your Forest account creation.

## How it works

Most of the code is simply based on the codebase generated by `feathers
generate app` and
[feathers-sequelize](https://github.com/feathersjs-ecosystem/feathers-sequelize).

#### File: `src/services/customers.service.js`

This file contains the Sequelize Customer Model definition.

#### File: `src/services/order.service.js`

This file contains the Sequelize Order Model definition.

#### File: `src/middleware/index.js`

This file contains the Forest middleware configuration that generates your
Admin API automatically based on your models definition.

## Need help?

Simply post an issue in this repository.
